{% extends 'testblock.html' %}

{% block title %}Test Kh·ªëi Thi ƒê·∫°i H·ªçc - C·ªïng th√¥ng tin tuy·ªÉn sinh{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <!-- N√∫t quay l·∫°i trang ch·ªß -->
        <div class="mb-4">
            <a href="http://127.0.0.1:8000/" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Quay l·∫°i trang ch·ªß
            </a>
        </div>

        <div class="system-header">
            <h1 class="text-center mb-3">H·ªÜ TH·ªêNG TEST KH·ªêI THI ƒê·∫†I H·ªåC</h1>
            <p class="text-center mb-0">√în t·∫≠p v√† ki·ªÉm tra ki·∫øn th·ª©c theo kh·ªëi thi truy·ªÅn th·ªëng</p>
        </div>
        
        <div class="container mt-4">
            <!-- Thanh t√¨m ki·∫øm -->
            <div class="row mb-4">
                <div class="col-md-8 mx-auto">
                    <div class="search-container">
                        <div class="input-group">
                            <span class="input-group-text bg-primary text-white">
                                <i class="fas fa-search"></i>
                            </span>
                            <input type="text" id="searchInput" class="form-control form-control-lg" 
                                   placeholder="T√¨m ki·∫øm kh·ªëi thi theo t√™n ho·∫∑c m√¥n h·ªçc...">
                            <button class="btn btn-outline-secondary" type="button" id="clearSearch">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="search-suggestions mt-2">
                            <small class="text-muted">
                                <i class="fas fa-lightbulb"></i> G·ª£i √Ω: "A", "To√°n", "Anh", "T·ª± nhi√™n", "X√£ h·ªôi"
                            </small>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="text-center mb-4">Ch·ªçn Kh·ªëi Thi</h2>
            
            <div class="row g-4" id="blocksContainer">
                <!-- Kh·ªëi A -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi A" data-subjects="To√°n V·∫≠t l√≠ H√≥a h·ªçc T·ª± nhi√™n">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-A' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üî¨</div>
                            <h5 class="card-title">Kh·ªëi A</h5>
                            <p class="card-text">Kh·ªëi t·ª± nhi√™n truy·ªÅn th·ªëng</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    ‚ö° V·∫≠t l√≠<br>
                                    üß™ H√≥a h·ªçc
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi B -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi B" data-subjects="To√°n H√≥a h·ªçc Sinh h·ªçc T·ª± nhi√™n S·ª©c kh·ªèe">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-B' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üß¨</div>
                            <h5 class="card-title">Kh·ªëi B</h5>
                            <p class="card-text">Kh·ªëi khoa h·ªçc s·ª©c kh·ªèe</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    üß™ H√≥a h·ªçc<br>
                                    üî¨ Sinh h·ªçc
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi C -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi C" data-subjects="Ng·ªØ vƒÉn L·ªãch s·ª≠ ƒê·ªãa l√≠ X√£ h·ªôi">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-C' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üìö</div>
                            <h5 class="card-title">Kh·ªëi C</h5>
                            <p class="card-text">Kh·ªëi khoa h·ªçc x√£ h·ªôi</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìù Ng·ªØ vƒÉn<br>
                                    üìú L·ªãch s·ª≠<br>
                                    üó∫Ô∏è ƒê·ªãa l√≠
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi D -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi D" data-subjects="To√°n Ng·ªØ vƒÉn Ti·∫øng Anh T·ªïng h·ª£p">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-D' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üåç</div>
                            <h5 class="card-title">Kh·ªëi D</h5>
                            <p class="card-text">Kh·ªëi t·ªïng h·ª£p c∆° b·∫£n</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    üìù Ng·ªØ vƒÉn<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi A01 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi A01" data-subjects="To√°n V·∫≠t l√≠ Ti·∫øng Anh K·ªπ thu·∫≠t C√¥ng ngh·ªá">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-A01' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üí°</div>
                            <h5 class="card-title">Kh·ªëi A01</h5>
                            <p class="card-text">Kh·ªëi k·ªπ thu·∫≠t - c√¥ng ngh·ªá</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    ‚ö° V·∫≠t l√≠<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi B01 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi B01" data-subjects="To√°n H√≥a h·ªçc Ti·∫øng Anh Y Sinh T·ª± nhi√™n">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-B01' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üß¨</div>
                            <h5 class="card-title">Kh·ªëi B01</h5>
                            <p class="card-text">Kh·ªëi Khoa h·ªçc T·ª± nhi√™n - Y Sinh</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    ‚öóÔ∏è H√≥a h·ªçc<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi D07 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi D07" data-subjects="To√°n H√≥a h·ªçc Ti·∫øng Anh Kinh t·∫ø C√¥ng ngh·ªá">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-D07' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üåê</div>
                            <h5 class="card-title">Kh·ªëi D07</h5>
                            <p class="card-text">Kh·ªëi Ngo·∫°i ng·ªØ - Kinh t·∫ø - C√¥ng ngh·ªá</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    ‚öóÔ∏è H√≥a h·ªçc<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi B02 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi B02" data-subjects="To√°n Sinh h·ªçc V·∫≠t l√≠ T·ª± nhi√™n">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-B02' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üß´</div>
                            <h5 class="card-title">Kh·ªëi B02</h5>
                            <p class="card-text">Kh·ªëi Khoa h·ªçc T·ª± nhi√™n - Sinh h·ªçc</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    üåø Sinh h·ªçc<br>
                                    ‚ö° V·∫≠t l√≠
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi C01 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi C01" data-subjects="To√°n L·ªãch s·ª≠ Ti·∫øng Anh X√£ h·ªôi T·ªïng h·ª£p">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-C01' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üìö</div>
                            <h5 class="card-title">Kh·ªëi C01</h5>
                            <p class="card-text">Kh·ªëi X√£ h·ªôi t·ªïng h·ª£p</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    üìä To√°n h·ªçc<br>
                                    üìú L·ªãch s·ª≠<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi D14 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi D14" data-subjects="Ng·ªØ vƒÉn L·ªãch s·ª≠ Ti·∫øng Anh X√£ h·ªôi Ng√¥n ng·ªØ">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-D14' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üèõÔ∏è</div>
                            <h5 class="card-title">Kh·ªëi D14</h5>
                            <p class="card-text">Kh·ªëi Ng√¥n ng·ªØ - X√£ h·ªôi</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    ‚úçÔ∏è Ng·ªØ vƒÉn<br>
                                    üìú L·ªãch s·ª≠<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Kh·ªëi D15 -->
                <div class="col-md-6 col-lg-3 block-item" data-name="Kh·ªëi D15" data-subjects="Ng·ªØ vƒÉn ƒê·ªãa l√Ω Ti·∫øng Anh X√£ h·ªôi Ng√¥n ng·ªØ">
                    <a href="{% url 'testblock:subject_test_list' 'khoi-D15' %}" class="card subject-card subject-card-link h-100">
                        <div class="card-body text-center">
                            <div class="subject-icon">üåç</div>
                            <h5 class="card-title">Kh·ªëi D15</h5>
                            <p class="card-text">Kh·ªëi Ng√¥n ng·ªØ - ƒê·ªãa l√Ω</p>
                            <div class="subjects-list">
                                <small class="text-muted">
                                    <strong>M√¥n h·ªçc:</strong><br>
                                    ‚úçÔ∏è Ng·ªØ vƒÉn<br>
                                    üó∫Ô∏è ƒê·ªãa l√Ω<br>
                                    üá¨üáß Ti·∫øng Anh
                                </small>
                            </div>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Th√¥ng b√°o khi kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ -->
            <div id="noResults" class="text-center mt-4" style="display: none;">
                <div class="alert alert-warning">
                    <i class="fas fa-search me-2"></i>
                    Kh√¥ng t√¨m th·∫•y kh·ªëi thi n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a "<span id="searchTerm"></span>"
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* N√∫t quay l·∫°i */
.btn-secondary {
    background: linear-gradient(135deg, #6c757d, #5a6268);
    border: none;
    border-radius: 25px;
    padding: 10px 20px;
    font-weight: 500;
    transition: all 0.3s ease;
}
.btn-secondary:hover {
    background: linear-gradient(135deg, #5a6268, #495057);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* Thanh t√¨m ki·∫øm */
.search-container {
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border: 1px solid #e9ecef;
}
.search-container .input-group-text {
    border-radius: 10px 0 0 10px;
    border: none;
}
.search-container .form-control {
    border-radius: 0 10px 10px 0;
    border: 1px solid #ced4da;
    border-left: none;
}
.search-container .form-control:focus {
    box-shadow: none;
    border-color: #007bff;
}
.search-suggestions {
    text-align: center;
}

/* Cards */
.subject-card {
    border: 2px solid #e9ecef;
    border-radius: 15px;
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
    color: inherit;
    display: block;
}
.subject-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    border-color: #007bff;
    text-decoration: none;
    color: inherit;
}
.subject-card-link {
    text-decoration: none;
    color: inherit;
}
.subject-card-link:hover {
    text-decoration: none;
    color: inherit;
}
.subject-icon {
    font-size: 3em;
    margin-bottom: 15px;
}
.subjects-list {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 10px;
    margin-top: 15px;
}
.system-header {
    background: linear-gradient(135deg, #2c3e50, #34495e);
    color: white;
    padding: 40px 0;
    text-align: center;
    margin-bottom: 0;
    border-radius: 0;
}

/* Hi·ªáu ·ª©ng ·∫©n/hi·ªán khi t√¨m ki·∫øm */
.block-item {
    transition: all 0.3s ease;
}
.block-item.hidden {
    display: none;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    const blocksContainer = document.getElementById('blocksContainer');
    const blockItems = document.querySelectorAll('.block-item');
    const noResults = document.getElementById('noResults');
    const searchTerm = document.getElementById('searchTerm');

    // H√†m t√¨m ki·∫øm
    function performSearch() {
        const searchText = searchInput.value.toLowerCase().trim();
        let visibleCount = 0;

        blockItems.forEach(item => {
            const name = item.getAttribute('data-name').toLowerCase();
            const subjects = item.getAttribute('data-subjects').toLowerCase();
            
            if (name.includes(searchText) || subjects.includes(searchText)) {
                item.classList.remove('hidden');
                visibleCount++;
            } else {
                item.classList.add('hidden');
            }
        });

        // Hi·ªÉn th·ªã th√¥ng b√°o khi kh√¥ng c√≥ k·∫øt qu·∫£
        if (searchText && visibleCount === 0) {
            searchTerm.textContent = searchText;
            noResults.style.display = 'block';
        } else {
            noResults.style.display = 'none';
        }
    }

    // S·ª± ki·ªán t√¨m ki·∫øm khi nh·∫≠p
    searchInput.addEventListener('input', performSearch);

    // X√≥a t√¨m ki·∫øm
    clearSearch.addEventListener('click', function() {
        searchInput.value = '';
        searchInput.focus();
        performSearch();
    });

    // T√¨m ki·∫øm khi nh·∫•n Enter
    searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            performSearch();
        }
    });

    // Debug ƒë·ªÉ ki·ªÉm tra click
    const links = document.querySelectorAll('.subject-card-link');
    console.log('Found', links.length, 'block links');
    
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            console.log('Clicked block:', this.href);
        });
    });
});
</script>
{% endblock %}